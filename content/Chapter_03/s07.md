+++
title = "Drawing a Bar Graph"
weight = 308
+++

## Project: A Turtle Bar Chart

Now we're going to put together many of the things we've learned to write a program that uses a turtle to draw a bar chart.

Let's start with some data to be charted:

```xs = [48, 117, 200, 240, 160, 260, 220]```

Corresponding to each data measurement, we&#8217;ll draw a rectangle
of that height, with a fixed width.  We&#8217;re showing off a new
programming concept called a *function* in the example below:
we&#8217;re defining the function ```draw_bar``` to draw a bar of our
graph. We&#8217;ll generally want to use a function to encode a
complicated task that we&#8217;ll want to repeat many times (like
drawing a bar in a bar graph). You can probably guess how functions
work from this code, but we won't explain it here &mdash; we're going to discuss functions in a
lot more detail in the next chapter.

```
import ColabTurtlePlus.Turtle as turtle

xs = [48, 117, 200, 240, 160, 260, 220] # our data

def draw_bar(t, h):
    """ Get turtle t to draw one bar, of height h. """
    t.left(90)
    t.forward(h)          # Draw up the left side
    t.right(90)
    t.forward(40)         # Width of bar, along the top
    t.right(90)
    t.forward(h)	  # And down again!
    t.left(90)            # Put the turtle facing the way we found it.
    t.forward(10)         # Leave small gap after each bar

wn = turtle.Screen()
wn.bgcolor("lightgreen")
shelly = turtle.Turtle()
shelly.color("blue")

for v in xs:              # Draw a bar for each number in the data
    draw_bar(shelly, v)

wn.mainloop()
```

Ok, not fantasically impressive, but it is a nice start!  The important thing here
was the mental chunking, or how we broke the problem into smaller pieces. Our chunk
is to draw one bar, and we wrote a function to do that. Then, for the whole
chart, we repeatedly called our function.

### Writing Data

Next, at the top of each bar, we&#8217;ll print the value of the data.
We&#8217;ll do this in the body of ```draw_bar```, by adding   ```t.write("  " + str(height))```
as the new third line of the body.
We&#8217;ve put a little space in front of the number, and turned the
number into a string.  Without this extra space we tend
to cramp our text awkwardly against the bar to the left.
The result looks a lot better now:

```Python
import ColabTurtlePlus.Turtle as turtle

xs = [48, 117, 200, 240, 160, 260, 220] # our data

def draw_bar(t, height):
    """ Get turtle t to draw one bar, of height. """
    t.left(90)
    t.forward(height)     # Draw up the left side
    t.write("  " + str(height))  # Write the data
    t.right(90)
    t.forward(40)         # Width of bar, along the top
    t.right(90)
    t.forward(height)     # And down again!
    t.left(90)            # Put the turtle facing the way we found it.
    t.forward(10)         # Leave small gap after each bar

wn = turtle.Screen()
wn.bgcolor("lightgreen")
shelly = turtle.Turtle()
shelly.color("blue")

for v in xs:              # Draw a bar for each number in the data
    draw_bar(shelly, v)

wn.mainloop()
```

### Filling the Bars

And now we&#8217;ll add code to fill each bar.  Our final program now looks like this:

```
import ColabTurtlePlus.Turtle as turtle

xs = [48, 117, 200, 240, 160, 260, 220] # our data

def draw_bar(t, height):
    """ Get turtle t to draw one bar, of height. """
    t.begin_fill()        # Start of the fill area
    t.left(90)
    t.forward(height)     # Draw up the left side
    t.write("  " + str(height))  # Write the data
    t.right(90)
    t.forward(40)         # Width of bar, along the top
    t.right(90)
    t.forward(height)     # And down again!
    t.left(90)            # Put the turtle facing the way we found it.
    t.end_fill()          # Fill in the bar
    t.forward(10)         # Leave small gap after each bar

wn = turtle.Screen()
wn.bgcolor("lightgreen")
shelly = turtle.Turtle()
shelly.color("blue")
shelly.fillcolor("red")

for v in xs:              # Draw a bar for each number in the data
    draw_bar(shelly, v)

wn.mainloop()
```


Mmm.  Perhaps the bars should not be joined to each other at the
bottom.  We&#8217;ll need to pick up the pen while making the gap
between the bars. That is left as an exercise for you to do &mdash; you will probably also want to do something to make the bar colors more interesting!
